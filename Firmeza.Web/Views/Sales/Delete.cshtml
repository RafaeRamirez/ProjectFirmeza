@model Firmeza.Web.Models.Sale
@{
    ViewData["Title"] = "Eliminar venta";
}
<h2>Eliminar venta</h2>
<p>¿Está seguro de eliminar esta venta? Se eliminará también su recibo y los ítems asociados.</p>
<dl class="row">
    <dt class="col-sm-3">Fecha</dt>
    <dd class="col-sm-9">@Model.CreatedAt.ToLocalFromUtc().ToString("yyyy-MM-dd HH:mm")</dd>
    <dt class="col-sm-3">Cliente</dt>
    <dd class="col-sm-9">@Model.Customer?.FullName</dd>
    <dt class="col-sm-3">Total</dt>
    <dd class="col-sm-9">@Model.Total.ToString("0.00")</dd>
</dl>
<table class="table table-bordered">
    <thead><tr><th>#</th><th>Producto</th><th>Cantidad</th><th>Precio</th><th>Subtotal</th></tr></thead>
    <tbody>
        @for (int i = 0; i < Model.Items.Count; i++)
        {
            <tr>
                <td>@(i + 1)</td>
                <td>@Model.Items[i].Product?.Name</td>
                <td>@Model.Items[i].Quantity</td>
                <td>@Model.Items[i].UnitPrice.ToString("0.00")</td>
                <td>@Model.Items[i].Subtotal.ToString("0.00")</td>
            </tr>
        }
    </tbody>
</table>
<form asp-action="Delete" method="post" class="mt-3">
    @Html.AntiForgeryToken()
    <input type="hidden" name="id" value="@Model.Id" />
    <button type="submit" class="btn btn-danger">Eliminar</button>
    <a asp-action="Index" class="btn btn-secondary">Cancelar</a>
</form>
