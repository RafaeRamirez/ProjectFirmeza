using Firmeza.Web.Interfaces; using Firmeza.Web.Models; using System.Linq; namespace Firmeza.Web.Services{ public class SaleService{ private readonly ISaleRepository _repo; public SaleService(ISaleRepository repo)=>_repo=repo; public Task<List<Sale>> ListAsync()=>_repo.ListAsync(); public Task<Sale?> GetAsync(Guid id)=>_repo.GetAsync(id); public async Task CreateAsync(Sale sale){ sale.Total=sale.Items.Sum(i=>i.Subtotal); await _repo.CreateAsync(sale);} } }